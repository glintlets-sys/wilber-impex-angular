<div class="address-list-container">
  <!-- Empty State -->
  <div *ngIf="addresses.length === 0" class="text-center py-4">
    <i [class]="emptyIcon + ' fa-3x text-muted mb-3'"></i>
    <h6 class="text-muted">{{ emptyMessage }}</h6>
    <p class="text-muted">{{ emptySubMessage }}</p>
    <button 
      *ngIf="showActions"
      class="btn"
      (click)="onAddNewAddress()"
      style="background: var(--gradient-primary); color: white; border: none;">
      <i class="fas fa-plus me-2"></i>
      Add Address
    </button>
  </div>

  <!-- Address List -->
  <div *ngIf="addresses.length > 0" class="address-grid">
    <div class="row">
      <div class="col-md-6 mb-3" *ngFor="let address of addresses">
        <div class="address-card card" 
             [class.selected]="isSelected(address)"
             [class.selectable]="showSelection"
             (click)="showSelection ? onAddressSelect(address) : null">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start">
              <div class="flex-grow-1">
                <!-- Address Labels -->
                <div class="d-flex align-items-center mb-2">
                  <span class="badge me-2" [class]="getAddressLabelClass(address.label)">
                    {{ getAddressLabelText(address.label) }}
                  </span>
                  <span *ngIf="address.isDefault" class="badge bg-warning">Default</span>
                </div>

                <!-- Address Details -->
                <h6 class="mb-1">{{ address.fullName }}</h6>
                <p class="mb-1">{{ address.addressLine1 }}</p>
                <p *ngIf="address.addressLine2" class="mb-1">{{ address.addressLine2 }}</p>
                <p class="mb-1">{{ address.city }}, {{ address.state }} - {{ address.pincode }}</p>
                <p *ngIf="address.mobile" class="mb-0 text-muted">{{ address.mobile }}</p>
              </div>

              <!-- Selection Radio (if showSelection is true) -->
              <div *ngIf="showSelection" class="form-check ms-2">
                <input class="form-check-input" 
                       type="radio" 
                       [id]="'address-' + address.id"
                       [checked]="isSelected(address)"
                       (change)="onAddressSelect(address)">
              </div>
            </div>

            <!-- Action Buttons (if showActions is true) -->
            <div *ngIf="showActions" class="address-actions mt-3 pt-3 border-top">
              <div class="d-flex gap-2">
                <button 
                  class="btn btn-sm btn-outline-primary"
                  (click)="onAddressEdit(address)"
                  title="Edit address">
                  <i class="fas fa-edit me-1"></i>
                  Edit
                </button>
                
                <button 
                  *ngIf="!address.isDefault"
                  class="btn btn-sm btn-outline-warning"
                  (click)="onSetDefault(address.id)"
                  title="Set as default">
                  <i class="fas fa-star me-1"></i>
                  Set Default
                </button>
                
                <button 
                  class="btn btn-sm btn-outline-danger"
                  (click)="onAddressDelete(address.id)"
                  title="Delete address">
                  <i class="fas fa-trash me-1"></i>
                  Delete
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add New Address Button -->
    <div *ngIf="showActions" class="text-center mt-3">
      <button 
        class="btn btn-outline-primary"
        (click)="onAddNewAddress()">
        <i class="fas fa-plus me-2"></i>
        Add New Address
      </button>
    </div>
  </div>
</div> 